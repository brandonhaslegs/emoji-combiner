function svg_to_node(o){return(new DOMParser).parseFromString(o,"text/xml").documentElement}async function fetch_parts_data(){var o=await fetch("/static/parts_data.json");return await o.json()}function fetch_svg(o,n){console.log(o,"has been clicked for svg"),window.open(window.location.origin+"/save_svg/"+o,"_blank")}function fetch_png(o,n){n.preventDefault(),console.log(o,"has been click for png"),window.open(window.location.origin+"/save_png/"+o,"_blank")}const rand_el=o=>o[Math.floor(Math.random()*o.length)],wrap_svg=(o,n=100)=>`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 ${n} ${n}" width="${n}" height="${n}">${o}</svg>`;function generate_random_emoji_svg_node(o){var n="",e="";Object.keys(o).forEach(t=>{var a=rand_el(Object.keys(o[t])),r=o[t][a];e+=a+"-",n+=r}),e=e.substr(0,e.length-1);var t=svg_to_node(n=wrap_svg(n));return t.onclick=fetch_svg.bind(this,e),t.oncontextmenu=fetch_png.bind(this,e),t}function load_on_scroll(o,n){n.target.scrollHeight-n.target.scrollTop<=window.innerHeight+600&&load_emoji_to_DOM(n.target,o,100)}function load_emoji_to_DOM(o,n,e){for(var t=0;t<e;t++){var a=generate_random_emoji_svg_node(n);o.appendChild(a)}}function clear_el(o){for(;o.firstChild;)o.removeChild(o.firstChild)}var randomise=()=>{};(async()=>{var o=await fetch_parts_data(),n=document.querySelector("#emoji-container");load_emoji_to_DOM(n,o,200),n.onscroll=load_on_scroll.bind(this,o),randomise=()=>{n.childElementCount>=600&&window.location.reload(!1),clear_el(n),load_emoji_to_DOM(n,o,100)}})();